<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Konfigur√°tor | Cakes by DT</title>
    <style>
        :root { 
            --primary: #ad1457; 
            --primary-dark: #880e4f;
            --bg: #fff5f8; 
            --border: #fce7f3; 
            --accent: #f9a8d4;
        }
        
        body { 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            background-color: var(--bg); 
            display: flex; 
            justify-content: center; 
            padding: 0; 
            margin: 0; 
            min-height: 100vh;
        }

        /* HLAVN√ç KONTEJNER */
        .hlavni-wrapper {
            display: flex;
            width: 100%;
            max-width: 1200px;
            background: white;
            box-shadow: 0 20px 60px rgba(173, 20, 87, 0.1);
            margin: 40px 20px;
            border-radius: 30px;
            overflow: hidden; /* Aby barva panelu nelezla p≈ôes rohy */
        }

        /* LEV√ù PANEL - MODERN√ç SIDEBAR */
        .levy-panel {
            flex: 0 0 320px; 
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 20px;
            position: sticky;
            top: 0;
            height: auto;
            color: white;
        }

        .logo-vlevo {
            width: 240px;
            height: auto;
            border-radius: 20px;
            border: 4px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }
        
        .logo-vlevo:hover {
            transform: translateY(-5px);
        }

        .side-text {
            margin-top: 30px;
            text-align: center;
            font-style: italic;
            opacity: 0.9;
            font-size: 14px;
            line-height: 1.6;
        }

        /* OBSAH FORMUL√Å≈òE */
        .obsah { 
            flex: 1;
            padding: 50px 60px;
            background: white;
        }

        .header { 
            text-align: left; 
            margin-bottom: 40px; 
        }

        h1 { 
            color: var(--primary); 
            margin: 0; 
            font-size: 38px; 
            font-weight: 800;
            letter-spacing: -1px;
        }

        /* SEKCE */
        .sekce { 
            background: #ffffff; 
            padding: 25px; 
            border-radius: 20px; 
            border: 1px solid var(--border); 
            margin-bottom: 25px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
        }

        h3 { 
            color: var(--primary); 
            font-size: 16px; 
            margin: 0 0 15px; 
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .flex { display: flex; gap: 15px; margin-bottom: 15px; }
        .flex > div { flex: 1; }
        
        label { 
            display: block; 
            font-size: 12px; 
            font-weight: 700; 
            color: #666; 
            margin-bottom: 6px; 
            padding-left: 2px;
        }

        input, select, textarea { 
            width: 100%; 
            padding: 12px 15px; 
            border-radius: 12px; 
            border: 1px solid #e0e0e0; 
            box-sizing: border-box; 
            font-family: inherit;
            transition: all 0.2s;
            background: #fdfdfd;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(173, 20, 87, 0.1);
            background: #fff;
        }

        /* 3D VIZUALIZACE */
        .scena-wrapper { 
            background: linear-gradient(to bottom, #fff, var(--bg)); 
            border: 2px dashed var(--accent); 
            border-radius: 25px; 
            margin: 30px 0; 
            padding: 40px 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
        }

        .vyska-info { 
            background: var(--primary); 
            color: white; 
            padding: 8px 20px; 
            border-radius: 50px; 
            font-weight: bold; 
            font-size: 14px; 
            margin-bottom: 20px; 
            box-shadow: 0 4px 10px rgba(173, 20, 87, 0.3);
        }

        /* DOPL≈áKY */
        .doplnek-blok { 
            border: 1px solid #eee; 
            border-radius: 15px; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: #fcfcfc; 
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
        }

        .doplnek-blok.aktivni { 
            border-color: var(--primary); 
            background: var(--bg);
            transform: translateX(5px);
        }

        .doplnek-hlavicka { 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            cursor: pointer; 
            font-weight: 600; 
            color: #444; 
        }

        /* TLAƒå√çTKO */
        .btn { 
            width: 100%; 
            padding: 20px; 
            background: var(--primary); 
            color: white; 
            border: none; 
            border-radius: 18px; 
            cursor: pointer; 
            font-weight: 800; 
            font-size: 18px; 
            margin-top: 20px; 
            transition: 0.3s;
            box-shadow: 0 10px 25px rgba(173, 20, 87, 0.25);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover { 
            background: var(--primary-dark); 
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(173, 20, 87, 0.4);
        }

        /* OSTATN√ç */
        .tahlo { width: 70%; accent-color: var(--primary); cursor: pointer; margin-top: 20px; }

        @media (max-width: 950px) {
            .hlavni-wrapper { flex-direction: column; margin: 0; border-radius: 0; }
            .levy-panel { flex: 0 0 auto; width: 100%; padding: 40px 0; position: static; }
            .obsah { padding: 30px 20px; }
            .logo-vlevo { width: 160px; }
        }
    </style>
</head>
<body>

<div class="hlavni-wrapper">
    <div class="levy-panel">
        <img src="logo.jpg" alt="Logo Cakes by DT" class="logo-vlevo">
        <div class="side-text">
            Upeƒçeme v√°m vzpom√≠nku,<br>na kterou nezapomenete.
        </div>
    </div>

    <div class="obsah">
        <div class="header">
            <h1>Konfigur√°tor dortu</h1>
            <p style="color: #888; margin: 8px 0 0 0; font-size: 16px;">Vytvo≈ôte si sv≈Øj sladk√Ω unik√°t krok za krokem</p>
        </div>

        <div class="sekce">
            <h3>üë§ Kontaktn√≠ √∫daje</h3>
            <div class="flex">
                <div>
                    <label>Cel√© jm√©no</label>
                    <input type="text" id="jmeno" placeholder="Jan Nov√°k">
                </div>
                <div>
                    <label>Telefon</label>
                    <input type="tel" id="telefon" placeholder="+420 000 000 000">
                </div>
            </div>
            <label>E-mail</label>
            <input type="email" id="email" placeholder="vas@email.cz">
        </div>

        <div class="sekce">
            <h3>üéÇ Z√°kladn√≠ slo≈æen√≠</h3>
            <div class="flex">
                <div>
                    <label>Poƒçet pater (vrstev)</label>
                    <select id="patra" onchange="kresliDort()">
                        <option value="2">2 vrstvy (cca 6 porc√≠)</option>
                        <option value="3">3 vrstvy (cca 10 porc√≠)</option>
                        <option value="4" selected>4 vrstvy (cca 14 porc√≠)</option>
                        <option value="5">5 vrstev (cca 18 porc√≠)</option>
                    </select>
                </div>
                <div>
                    <label>Druh korpusu</label>
                    <select id="korpus" onchange="kresliDort()">
                        <option value="#4e342e">Tmav√Ω ƒçokol√°dov√Ω</option>
                        <option value="#f3e5ab" selected>Svƒõtl√Ω nad√Ωchan√Ω pi≈°kot</option>
                    </select>
                </div>
            </div>
            <div class="flex">
                <div>
                    <label>Hlavn√≠ kr√©m</label>
                    <select id="krem" onchange="kresliDort()">
                        <option value="#ffffff">Mascarpone s vanilkou</option>
                        <option value="#fffde7">Tradiƒçn√≠ vanilka</option>
                        <option value="#f8bbd0">Lehk√Ω ovocn√Ω kr√©m</option>
                    </select>
                </div>
                <div>
                    <label>Ovoce uvnit≈ô</label>
                    <select id="ov-vnitrek">
                        <option value="Bez ovoce">Bez ovoce</option>
                        <option value="Jahody">ƒåerstv√© jahody</option>
                        <option value="Bor≈Øvky">Lesn√≠ bor≈Øvky</option>
                        <option value="Maliny">≈†≈•avnat√© maliny</option>
                        <option value="Mix">Mix lesn√≠ho ovoce</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="sekce" style="border-left: 5px solid var(--primary);">
            <h3>üé® Styl a design</h3>
            <div class="flex">
                <div style="flex: 2;">
                    <label>Vnƒõj≈°√≠ √∫prava (vzhled)</label>
                    <select id="vnejsi-barva" onchange="kresliDort()">
                        <option value="naked" selected>Naked (lehce pot≈ôen√Ω, p≈ôiznan√Ω korpus)</option>
                        <option value="#ffffff">ƒåistƒõ b√≠l√Ω kr√©m</option>
                        <option value="#fce7f3">Jemnƒõ r≈Ø≈æov√Ω kr√©m</option>
                        <option value="#4e342e">ƒåokol√°dov√° ganache</option>
                    </select>
                </div>
                <div>
                    <label>Zdoben√≠ vr≈°ku</label>
                    <select id="ov-vrsek" onchange="kresliDort()">
                        <option value="jahoda">Vƒõnec z jahod</option>
                        <option value="boruvka">Bor≈Øvkov√Ω posyp</option>
                        <option value="none">Bez ovoce</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="scena-wrapper">
            <div class="vyska-info">P≈ôedpokl√°dan√° v√Ω≈°ka: <span id="cm-vyska">0</span> cm</div>
            <div class="scena"><div class="dort-telo" id="vizual"></div></div>
            <input type="range" min="0" max="360" value="45" class="tahlo" oninput="otoc(this.value)">
            <p style="font-size: 11px; color: #aaa; margin-top: 10px;">(Pohled m≈Ø≈æete ot√°ƒçet posuvn√≠kem)</p>
        </div>

        <div class="sekce">
            <h3>üéÅ Speci√°ln√≠ dopl≈àky</h3>
            
            <div class="doplnek-blok" id="blok-papir">
                <label class="doplnek-hlavicka">
                    <input type="checkbox" id="check-papir" onchange="updateBlok('papir')"> Jedl√Ω pap√≠r (fotka/obr√°zek)
                </label>
                <div class="doplnek-poznamka">
                    <textarea id="note-papir" rows="2" placeholder="Jak√Ω motiv si p≈ôejete natisknout?"></textarea>
                </div>
            </div>

            <div class="doplnek-blok" id="blok-figurka">
                <label class="doplnek-hlavicka">
                    <input type="checkbox" id="check-figurka" onchange="updateBlok('figurka')"> Modelovan√° figurka
                </label>
                <div class="doplnek-poznamka">
                    <textarea id="note-figurka" rows="2" placeholder="Popi≈°te postaviƒçku nebo zv√≠≈ô√°tko..."></textarea>
                </div>
            </div>

            <div class="doplnek-blok" id="blok-zapich">
                <label class="doplnek-hlavicka">
                    <input type="checkbox" id="check-zapich" onchange="updateBlok('zapich')"> Z√°pich (jm√©no/ƒç√≠slo)
                </label>
                <div class="doplnek-poznamka">
                    <textarea id="note-zapich" rows="2" placeholder="Text nebo vƒõk na z√°pich..."></textarea>
                </div>
            </div>

            <div style="margin-top:20px">
                <label>Pozn√°mka k objedn√°vce (datum, alergie...)</label>
                <textarea id="poznamka-hlavni" rows="3" placeholder="Kdy dort pot≈ôebujete? M√°te specifick√© barvy?"></textarea>
            </div>
        </div>

        <button class="btn" onclick="odeslat()">Odeslat nez√°vaznou popt√°vku</button>
        <p style="text-align: center; font-size: 12px; color: #aaa; margin-top: 15px;">Po odesl√°n√≠ se v√°m ozveme s potvrzen√≠m term√≠nu a ceny.</p>
    </div>
</div>

<script>
    /* ... (Z≈Øst√°v√° stejn√Ω JavaScript jako p≈ôedt√≠m) ... */
    let rotY = 45;

    function updateBlok(id) {
        const blok = document.getElementById('blok-' + id);
        const check = document.getElementById('check-' + id);
        if(check.checked) blok.classList.add('aktivni');
        else blok.classList.remove('aktivni');
    }

    function otoc(v) {
        rotY = v;
        document.getElementById('vizual').style.transform = `rotateX(-20deg) rotateY(${v}deg)`;
    }

    function kresliDort() {
        const plocha = document.getElementById('vizual');
        const pCount = parseInt(document.getElementById('patra').value);
        const cK = document.getElementById('korpus').value;
        const cN = document.getElementById('krem').value;
        const vnejsi = document.getElementById('vnejsi-barva').value;
        
        plocha.innerHTML = "";
        const sirka = 160;
        const pocetVrstev = pCount * 2; 
        document.getElementById('cm-vyska').innerText = (pocetVrstev * 1.5).toFixed(1);

        for (let i = 0; i < pocetVrstev; i++) {
            const v = document.createElement('div');
            v.className = 'vrstva';
            v.style.setProperty('--bottom', (i * 10) + 'px');
            const barva = (vnejsi === "naked") ? (i % 2 === 0 ? cK : cN) : vnejsi;
            v.style.setProperty('--color', barva);
            v.style.setProperty('--segW', (Math.PI * sirka / 32 + 2) + 'px');

            for (let j = 0; j < 32; j++) {
                const s = document.createElement('div');
                s.className = 'segment';
                s.style.transform = `rotateY(${j * 11.25}deg) translateZ(${sirka/2}px)`;
                v.appendChild(s);
            }

            if (i === pocetVrstev - 1) {
                const vicko = document.createElement('div');
                vicko.className = 'vicko';
                vicko.style.setProperty('--w', sirka + 'px');
                vicko.style.setProperty('--topColor', (vnejsi === "naked") ? cN : vnejsi);
                v.appendChild(vicko);
            }
            plocha.appendChild(v);
        }
        otoc(rotY);
    }

    function odeslat() {
        const jmeno = document.getElementById('jmeno').value;
        if(!jmeno) { alert("Pros√≠m vypl≈àte jm√©no."); return; }
        // ... (Zbytek funkce odeslat) ...
        let doplnekBody = "";
        if(document.getElementById('check-papir').checked) doplnekBody += `%0A- JEDL√ù PAP√çR: ${document.getElementById('note-papir').value}`;
        if(document.getElementById('check-figurka').checked) doplnekBody += `%0A- FIGURKA: ${document.getElementById('note-figurka').value}`;
        if(document.getElementById('check-zapich').checked) doplnekBody += `%0A- Z√ÅPICH: ${document.getElementById('note-zapich').value}`;

        const body = `Popt√°vka od: ${jmeno}%0AEmail: ${document.getElementById('email').value}%0ATel: ${document.getElementById('telefon').value}%0A%0A--- DORT ---%0AV√Ω≈°ka: ${document.getElementById('cm-vyska').innerText} cm%0AKorpus: ${document.getElementById('korpus').options[document.getElementById('korpus').selectedIndex].text}%0AKr√©m: ${document.getElementById('krem').options[document.getElementById('krem').selectedIndex].text}%0AOvoce v kr√©mu: ${document.getElementById('ov-vnitrek').value}%0AVnƒõj≈°√≠ design: ${document.getElementById('vnejsi-barva').options[document.getElementById('vnejsi-barva').selectedIndex].text}%0A%0A--- DOPL≈áKY ---${doplnekBody}%0A%0APozn√°mka k objedn√°vce:%0A${document.getElementById('poznamka-hlavni').value}`;
        
        window.location.href = `mailto:domii.trnovska@seznam.cz?subject=Popt√°vka_Dortu&body=${body}`;
    }

    window.onload = kresliDort;
</script>

</body>
</html>
