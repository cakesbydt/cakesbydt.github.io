<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Konfigur√°tor | Cakes by DT</title>
    <style>
        :root { 
            --primary: #ad1457; 
            --primary-dark: #880e4f;
            --bg: #fff5f8; 
            --border: #fce7f3; 
            --accent: #f9a8d4;
        }
        
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background-color: var(--bg); 
            display: flex; 
            justify-content: center; 
            padding: 0; 
            margin: 0; 
            min-height: 100vh;
        }

        /* HLAVN√ç KONTEJNER */
        .hlavni-wrapper {
            display: flex;
            width: 100%;
            max-width: 1200px;
            background: white;
            box-shadow: 0 20px 60px rgba(173, 20, 87, 0.1);
            margin: 40px 20px;
            border-radius: 30px;
            overflow: hidden;
        }

        /* LEV√ù PANEL - LOGO P√ÅS */
        .levy-panel {
            flex: 0 0 320px; 
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 20px;
            position: sticky;
            top: 0;
            color: white;
        }

        .logo-vlevo {
            width: 260px;
            height: auto;
            border-radius: 20px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        /* OBSAH FORMUL√Å≈òE */
        .obsah { 
            flex: 1;
            padding: 50px 60px;
            background: white;
        }

        h1 { color: var(--primary); margin: 0; font-size: 38px; font-weight: 800; }

        /* SEKCE */
        .sekce { 
            background: #ffffff; 
            padding: 25px; 
            border-radius: 20px; 
            border: 1px solid var(--border); 
            margin-bottom: 25px; 
        }

        h3 { color: var(--primary); font-size: 16px; margin: 0 0 15px; text-transform: uppercase; letter-spacing: 1px; }

        .flex { display: flex; gap: 15px; margin-bottom: 15px; }
        .flex > div { flex: 1; }
        
        label { display: block; font-size: 12px; font-weight: 700; color: #666; margin-bottom: 6px; }

        input, select, textarea { 
            width: 100%; 
            padding: 12px; 
            border-radius: 12px; 
            border: 1px solid #e0e0e0; 
            box-sizing: border-box; 
            font-family: inherit;
        }

        /* 3D MODEL - TADY BYL CHYBƒöJ√çC√ç K√ìD */
        .scena-wrapper { 
            background: linear-gradient(to bottom, #fff, var(--bg)); 
            border: 2px dashed var(--accent); 
            border-radius: 25px; 
            margin: 30px 0; 
            padding: 40px 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            position: relative;
        }

        .scena { 
            height: 300px; 
            perspective: 1000px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            width: 100%; 
        }

        .dort-telo { 
            position: relative; 
            width: 160px; 
            transform-style: preserve-3d; 
            transition: transform 0.1s linear; 
        }

        .vrstva { position: absolute; width: 100%; height: 10px; transform-style: preserve-3d; bottom: var(--bottom); }
        .segment { position: absolute; width: var(--segW); height: 10px; left: 50%; margin-left: calc(var(--segW)/-2); background: linear-gradient(to right, rgba(0,0,0,0.1), transparent, rgba(0,0,0,0.1)), var(--color); }
        .vicko { position: absolute; width: var(--w); height: var(--w); background: var(--topColor); border-radius: 50%; left: 50%; top: 50%; transform: translate(-50%, -50%) rotateX(90deg) translateZ(5px); transform-style: preserve-3d; }

        .vyska-info { 
            background: var(--primary); 
            color: white; 
            padding: 8px 20px; 
            border-radius: 50px; 
            font-weight: bold; 
            margin-bottom: 20px; 
        }

        .btn { 
            width: 100%; padding: 20px; background: var(--primary); color: white; border: none; border-radius: 18px; 
            cursor: pointer; font-weight: 800; font-size: 18px; margin-top: 20px; box-shadow: 0 10px 25px rgba(173, 20, 87, 0.25);
        }

        .tahlo { width: 70%; accent-color: var(--primary); cursor: pointer; margin-top: 20px; }

        @media (max-width: 950px) {
            .hlavni-wrapper { flex-direction: column; margin: 0; border-radius: 0; }
            .levy-panel { flex: 0 0 auto; width: 100%; padding: 40px 0; position: static; }
            .logo-vlevo { width: 160px; }
        }
    </style>
</head>
<body>

<div class="hlavni-wrapper">
    <div class="levy-panel">
        <img src="logo.jpg" alt="Logo Cakes by DT" class="logo-vlevo">
        <p style="margin-top:20px; text-align:center; opacity:0.8;">V√°≈° osobn√≠ cukr√°≈ôsk√Ω koutek</p>
    </div>

    <div class="obsah">
        <div class="header">
            <h1>Konfigur√°tor dortu</h1>
            <p style="color: #888;">Navrhnƒõte si vlastn√≠ sladk√© mistrovsk√© d√≠lo</p>
        </div>

        <div class="sekce">
            <h3>üë§ Kontakt</h3>
            <div class="flex">
                <input type="text" id="jmeno" placeholder="Jm√©no a p≈ô√≠jmen√≠">
                <input type="tel" id="telefon" placeholder="Telefon">
            </div>
            <input type="email" id="email" placeholder="E-mail">
        </div>

        <div class="sekce">
            <h3>üéÇ Slo≈æen√≠</h3>
            <div class="flex">
                <div>
                    <label>Poƒçet pater (vrstev)</label>
                    <select id="patra" onchange="kresliDort()">
                        <option value="2">2 vrstvy</option>
                        <option value="3">3 vrstvy</option>
                        <option value="4" selected>4 vrstvy</option>
                        <option value="5">5 vrstev</option>
                        <option value="6">6 vrstev</option>
                    </select>
                </div>
                <div>
                    <label>Druh korpusu</label>
                    <select id="korpus" onchange="kresliDort()">
                        <option value="#4e342e">ƒåokol√°dov√Ω</option>
                        <option value="#f3e5ab" selected>Svƒõtl√Ω pi≈°kot</option>
                        <option value="#d32f2f">Red Velvet</option>
                    </select>
                </div>
            </div>
            <div class="flex">
                <div>
                    <label>Hlavn√≠ kr√©m</label>
                    <select id="krem" onchange="kresliDort()">
                        <option value="#ffffff">Mascarpone</option>
                        <option value="#fffde7">Vanilka</option>
                        <option value="#f8bbd0">Ovocn√Ω (r≈Ø≈æov√Ω)</option>
                    </select>
                </div>
                <div>
                    <label>Vnƒõj≈°√≠ vzhled</label>
                    <select id="vnejsi-barva" onchange="kresliDort()">
                        <option value="naked" selected>Naked (viditeln√© vrstvy)</option>
                        <option value="#ffffff">B√≠l√Ω hladk√Ω</option>
                        <option value="#fce7f3">R≈Ø≈æov√Ω hladk√Ω</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="scena-wrapper">
            <div class="vyska-info">Celkov√° v√Ω≈°ka: <span id="cm-vyska">0</span> cm</div>
            <div class="scena">
                <div class="dort-telo" id="vizual"></div>
            </div>
            <input type="range" min="0" max="360" value="45" class="tahlo" oninput="otoc(this.value)">
            <p style="font-size: 11px; color: #aaa; margin-top: 10px;">Ot√°ƒçejte posuvn√≠kem pro pohled ze v≈°ech stran</p>
        </div>

        <button class="btn" onclick="odeslat()">ODESLAT POPT√ÅVKU</button>
    </div>
</div>

<script>
    let rotY = 45;

    function otoc(v) {
        rotY = v;
        document.getElementById('vizual').style.transform = `rotateX(-20deg) rotateY(${v}deg)`;
    }

    function kresliDort() {
        const plocha = document.getElementById('vizual');
        const pCount = parseInt(document.getElementById('patra').value);
        const cK = document.getElementById('korpus').value;
        const cN = document.getElementById('krem').value;
        const vnejsi = document.getElementById('vnejsi-barva').value;
        
        plocha.innerHTML = "";
        const sirka = 160;
        const pocetVrstev = pCount * 2; 
        document.getElementById('cm-vyska').innerText = (pocetVrstev * 1.5).toFixed(1);

        for (let i = 0; i < pocetVrstev; i++) {
            const v = document.createElement('div');
            v.className = 'vrstva';
            v.style.setProperty('--bottom', (i * 10) + 'px');
            
            // Barva vrstvy: st≈ô√≠d√°n√≠ korpusu a kr√©mu u "naked" nebo jedna barva u pln√©ho pot≈ôen√≠
            const barva = (vnejsi === "naked") ? (i % 2 === 0 ? cK : cN) : vnejsi;
            v.style.setProperty('--color', barva);
            v.style.setProperty('--segW', (Math.PI * sirka / 32 + 2) + 'px');

            for (let j = 0; j < 32; j++) {
                const s = document.createElement('div');
                s.className = 'segment';
                s.style.transform = `rotateY(${j * 11.25}deg) translateZ(${sirka/2}px)`;
                v.appendChild(s);
            }

            // Vrchn√≠ v√≠ƒçko na posledn√≠ vrstvƒõ
            if (i === pocetVrstev - 1) {
                const vicko = document.createElement('div');
                vicko.className = 'vicko';
                vicko.style.setProperty('--w', sirka + 'px');
                vicko.style.setProperty('--topColor', (vnejsi === "naked") ? cN : vnejsi);
                v.appendChild(vicko);
            }
            plocha.appendChild(v);
        }
        otoc(rotY);
    }

    function odeslat() {
        const jmeno = document.getElementById('jmeno').value;
        if(!jmeno) { alert("Pros√≠m vypl≈àte jm√©no."); return; }
        alert("Popt√°vka byla p≈ôipravena k odesl√°n√≠!");
        // Zde m≈Ø≈æe b√Ωt mailto link jako v p≈ôedchoz√≠m k√≥du
    }

    window.onload = kresliDort;
</script>

</body>
</html>
