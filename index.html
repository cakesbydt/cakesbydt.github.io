<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Dortov칳 konfigur치tor</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #fff5f8; display: flex; justify-content: center; padding: 20px; }
        .karta { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 500px; }
        
        /* Box pro n치hled dortu - te캞 se natahuje podle v칳코ky */
        .nahled-box { 
            margin: 20px auto; padding: 20px; background: #fafafa; border: 2px dashed #f9a8d4; border-radius: 15px;
            display: flex; flex-direction: column-reverse; align-items: center; min-height: 100px; transition: 0.5s;
        }

        /* Vrstvy dortu */
        .v-korpus { height: 20px; border: 1px solid rgba(0,0,0,0.1); border-radius: 4px; }
        .v-krem { height: 20px; border: 1px solid rgba(0,0,0,0.05); border-radius: 10px; margin-bottom: -1px; }

        label { display: block; margin-top: 15px; font-weight: bold; color: #ad1457; font-size: 14px; }
        select, input[type="text"], input[type="color"], input[type="number"] { 
            width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #f9a8d4; margin-top: 5px; box-sizing: border-box; 
        }
        .row { display: flex; gap: 10px; margin-bottom: 10px; }
        .row > div { flex: 1; }
        h1 { color: #ad1457; text-align: center; margin: 0 0 20px 0; }
        .btn { width: 100%; padding: 15px; background: #db2777; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body onload="uprav()">

<div class="karta">
    <h1>游꼻 Konfigur치tor dortu</h1>

    <div class="row">
        <div>
            <label>Pr콢m캩r (cm)</label>
            <select id="p" onchange="uprav()">
                <option value="150">15 cm</option>
                <option value="200" selected>20 cm</option>
                <option value="250">25 cm</option>
                <option value="300">30 cm</option>
            </select>
        </div>
        <div>
            <label>Po캜et pater (v칳코ka)</label>
            <input type="number" id="vyska" value="3" min="1" max="6" onchange="uprav()">
        </div>
    </div>

    <div class="row">
        <div>
            <label>Korpus</label>
            <select id="k" onchange="uprav()">
                <option value="#f3e5ab">Sv캩tl칳 pi코kot</option>
                <option value="#4e342e">캛okol치dov칳</option>
                <option value="#d7ccc8">O콏echov칳</option>
            </select>
        </div>
        <div>
            <label>N치pl켿</label>
            <select id="n" onchange="uprav()">
                <option value="#fffde7">Vanilka</option>
                <option value="#795548">Pa콏칤쬽k칳</option>
                <option value="#f8bbd0">Ovocn칳</option>
            </select>
        </div>
    </div>

    <label>Vn캩j코칤 barva kr칠mu</label>
    <input type="color" id="barva-vnejsi" value="#ffffff" onchange="uprav()">

    <label>Pozn치mky (ovoce, pap칤r, figurka...)</label>
    <input type="text" id="poznamka" placeholder="V코e co m치 man쬰lka v캩d캩t...">

    <div class="nahled-box" id="box">
        </div>
    
    <p id="info-vyska" style="text-align:center; color: #999; font-size: 12px;"></p>

    <button class="btn" onclick="odeslat()">Odeslat objedn치vku</button>
</div>

<script>
    function uprav() {
        const plocha = document.getElementById('box');
        const sirka = document.getElementById('p').value;
        const pocetPater = document.getElementById('vyska').value;
        const barvaKorpus = document.getElementById('k').value;
        const barvaKrem = document.getElementById('n').value;
        const barvaVnejsi = document.getElementById('barva-vnejsi').value;

        // Nastaven칤 vn캩j코칤 barvy "pot콏en칤"
        plocha.style.backgroundColor = barvaVnejsi;
        
        // Vymaz치n칤 star칠 grafiky
        plocha.innerHTML = "";

        // Generov치n칤 vrstev podle po캜tu pater
        for (let i = 0; i < pocetPater; i++) {
            // Korpus (2cm)
            let divK = document.createElement('div');
            divK.className = 'v-korpus';
            divK.style.width = sirka + "px";
            divK.style.backgroundColor = barvaKorpus;
            plocha.appendChild(divK);

            // Pokud to nen칤 posledn칤 (horn칤) patro, p콏idej kr칠m
            if (i < pocetPater - 1) {
                let divN = document.createElement('div');
                divN.className = 'v-krem';
                divN.style.width = (sirka - 10) + "px";
                divN.style.backgroundColor = barvaKrem;
                plocha.appendChild(
