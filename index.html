<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cakes by DT | 3D Konfigur√°tor</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ad1457; --sweet-pink: #fce7f3; --bg: #fff5f8; }
        
        body { 
            font-family: 'Montserrat', sans-serif; 
            background: var(--bg); 
            display: flex; justify-content: center; 
            padding: 20px; margin: 0; color: #4a4a4a;
        }

        .karta { 
            background: white; padding: 30px; border-radius: 30px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.05); 
            width: 100%; max-width: 550px; text-align: center;
        }

        h1 { font-family: 'Playfair Display', serif; color: var(--primary); font-size: 2.5rem; margin-bottom: 5px; }
        .ig { color: var(--primary); text-decoration: none; font-size: 14px; font-weight: 600; opacity: 0.7; }

        /* 3D DISPLAY AREA */
        .scena-3d { 
            height: 350px; perspective: 1200px; 
            background: radial-gradient(circle, #fff 0%, #fde2e4 100%);
            border-radius: 25px; margin: 20px 0;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; position: relative;
            border: 1px solid rgba(255,255,255,0.5);
        }

        .dort-wrapper {
            transform-style: preserve-3d;
            transform: rotateX(-10deg) rotateY(45deg);
            transition: transform 0.1s linear;
            position: relative;
        }

        .patro-3d {
            position: absolute;
            transform-style: preserve-3d;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Styl pro "buclat√©" patro */
        .valec-shell {
            position: absolute;
            width: 100%; height: 100%;
            border-radius: 50%;
            box-shadow: inset 0 -5px 15px rgba(0,0,0,0.2), inset 0 5px 15px rgba(255,255,255,0.8);
        }

        .top-face {
            position: absolute; width: 100%; height: 100%;
            border-radius: 50%;
            transform: rotateX(90deg) translateZ(15px);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
        }

        .jahody-container {
            position: absolute; width: 100%; height: 100%;
            transform: rotateX(90deg) translateZ(16px);
            display: flex; justify-content: center; align-items: center;
            font-size: 30px;
        }

        /* FORMUL√Å≈ò */
        .ovladani { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; }
        .sekce { background: #fffcfd; padding: 15px; border-radius: 18px; border: 1px solid var(--sweet-pink); margin-top: 15px; }
        label { font-size: 12px; font-weight: 600; text-transform: uppercase; color: #888; display: block; margin-bottom: 5px; }
        select, input { 
            width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #eee; 
            font-family: inherit; font-size: 14px; outline: none;
        }
        
        .btn { 
            width: 100%; padding: 18px; background: var(--primary); color: white; border: none; 
            border-radius: 15px; font-weight: bold; margin-top: 20px; cursor: pointer;
            box-shadow: 0 10px 20px rgba(173, 20, 87, 0.2); transition: 0.3s;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 15px 25px rgba(173, 20, 87, 0.3); }

        input[type="range"] { accent-color: var(--primary); margin-top: 10px; }
    </style>
</head>
<body>

<div class="karta">
    <h1>Cakes by DT</h1>
    <a href="#" class="ig">üì∏ @cakesbydt_</a>

    <div class="scena-3d">
        <div class="dort-wrapper" id="dort">
            </div>
    </div>

    <input type="range" min="0" max="360" value="45" style="width: 80%" oninput="otoc(this.value)">
    <p style="font-size: 10px; color: #ccc; margin-top: 0;">OT√ÅƒåET DORTEM</p>

    <div class="ovladani">
        <div class="sekce">
            <label>Pr≈Ømƒõr dortu</label>
            <select id="sirka" onchange="aktualizuj()">
                <option value="160">15 cm (mal√Ω)</option>
                <option value="200" selected>20 cm (st≈ôedn√≠)</option>
                <option value="240">25 cm (velk√Ω)</option>
            </select>
        </div>
        <div class="sekce">
            <label>V√Ω≈°ka (vrstvy)</label>
            <select id="patra" onchange="aktualizuj()">
                <option value="3">3 vrstvy</option>
                <option value="4" selected>4 vrstvy</option>
                <option value="5">5 vrstev</option>
            </select>
        </div>
    </div>

    <div class="ovladani">
        <div class="sekce">
            <label>Barva korpusu</label>
            <select id="barvaK" onchange="aktualizuj()">
                <option value="#f3e5ab">Svƒõtl√Ω pi≈°kot</option>
                <option value="#5d4037">ƒåokol√°dov√Ω</option>
                <option value="#e19d7d">O≈ôechov√Ω</option>
            </select>
        </div>
        <div class="sekce">
            <label>Barva kr√©mu</label>
            <select id="barvaN" onchange="aktualizuj()">
                <option value="#fce7f3">Jahodov√Ω (R≈Ø≈æov√Ω)</option>
                <option value="#fff">Vanilkov√Ω (B√≠l√Ω)</option>
                <option value="#8d6e63">K√°vov√Ω</option>
            </select>
        </div>
    </div>

    <div class="sekce" style="text-align: left;">
        <label>Va≈°e jm√©no</label>
        <input type="text" placeholder="Jm√©no a p≈ô√≠jmen√≠">
    </div>

    <button class="btn" onclick="poslat()">ODESLAT POPT√ÅVKU</button>
</div>

<script>
    function otoc(val) {
        document.getElementById('dort').style.transform = `rotateX(-10deg) rotateY(${val}deg)`;
    }

    function vytvorPatro(s, h, barva, jePosledni) {
        const patro = document.createElement('div');
        patro.className = 'patro-3d';
        patro.style.width = s + 'px';
        patro.style.height = s + 'px';
        patro.style.bottom = h + 'px';

        // Hlavn√≠ tƒõlo (boky) - simulov√°no vysok√Ωm borderem a st√≠ny pro "round" efekt
        const shell = document.createElement('div');
        shell.className = 'valec-shell';
        shell.style.height = '40px'; // V√Ω≈°ka jednoho patra
        shell.style.backgroundColor = barva;
        shell.style.border = "1px solid rgba(0,0,0,0.05)";
        
        // Horn√≠ plocha patra
        const top = document.createElement('div');
        top.className = 'top-face';
        top.style.backgroundColor = barva;
        top.style.translateZ = '40px';

        patro.appendChild(shell);
        patro.appendChild(top);

        if (jePosledni) {
            const jahody = document.createElement('div');
            jahody.className = 'jahody-container';
            jahody.innerHTML = "üçìüçìüçì"; // Zde lze p≈ôidat v√≠ce jahod
            jahody.style.transform = `rotateX(-90deg) translateY(-50px) translateZ(10px)`;
            patro.appendChild(jahody);
        }

        return patro;
    }

    function aktualizuj() {
        const plocha = document.getElementById('dort');
        const s = document.getElementById('sirka').value;
        const p = document.getElementById('patra').value;
        const bK = document.getElementById('barvaK').value;
        const bN = document.getElementById('barvaN').value;

        plocha.innerHTML = "";
        
        for (let i = 0; i < p; i++) {
            const barva = (i % 2 === 0) ? bK : bN;
            const vyskaOdZeme = i * 35; // P≈ôekryv pro buclat√Ω efekt
            const patro = vytvorPatro(s, vyskaOdZeme, barva, i == p-1);
            plocha.appendChild(patro);
        }
    }

    function poslat() {
        alert("Popt√°vka byla odesl√°na! Dort vypad√° skvƒõle.");
    }

    window.onload = () => {
        aktualizuj();
        otoc(45);
    };
</script>

</body>
</html>
