<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Dortov√Ω konfigur√°tor</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: #fff5f8; display: flex; justify-content: center; padding: 20px; }
        .karta { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 550px; }
        h1 { color: #ad1457; text-align: center; margin-bottom: 20px; }
        
        /* MODERN√ç N√ÅHLED DORTU */
        #box-dortu { 
            margin: 50px auto 20px auto; padding: 40px 20px 20px 20px; 
            background: radial-gradient(circle, #ffffff 0%, #fff0f5 100%); 
            border: 2px solid #f9a8d4; border-radius: 20px;
            display: flex; flex-direction: column-reverse; align-items: center; 
            min-height: 220px; position: relative;
            box-shadow: inset 0 0 15px rgba(249, 168, 212, 0.2);
        }

        /* Vylep≈°en√Ω korpus s 3D efektem */
        .v-korpus { 
            height: 28px; 
            border-radius: 6px; 
            margin-top: 2px; 
            position: relative; 
            z-index: 2; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1), inset 0 2px 2px rgba(255,255,255,0.3);
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* Vylep≈°en√Ω kr√©m (n√°p≈à) */
        .v-krem { 
            height: 22px; 
            border-radius: 12px; 
            margin-bottom: -2px; 
            position: relative; 
            display: flex; 
            justify-content: space-around; 
            align-items: center;
            box-shadow: inset 0 -3px 5px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.03);
        }

        /* Kousky ovoce v kr√©mu */
        .kousek-ovoce { 
            width: 8px; 
            height: 8px; 
            background: #ff4d4d; 
            border-radius: 50%; 
            box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
            filter: blur(0.3px);
        }
        
        /* Vƒõt≈°√≠ jahody na vr≈°ku */
        .jahody-top { 
            position: absolute; 
            bottom: 105%; 
            width: 100%; 
            display: flex; 
            justify-content: center; 
            font-size: 32px; 
            filter: drop-shadow(0 4px 3px rgba(0,0,0,0.2));
            z-index: 10; 
            pointer-events: none; 
        }

        /* Zbytek formul√°≈ôe */
        .sekce { text-align: left; margin-bottom: 15px; padding: 15px; background: #fffcfd; border-radius: 12px; border: 1px solid #fce7f3; }
        label { display: block; font-weight: bold; color: #ad1457; font-size: 13px; margin-bottom: 5px; }
        .ch-radek { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 14px; }
        .ch-radek input[type="checkbox"] { width: 18px; height: 18px; cursor: pointer; flex-shrink: 0; }
        input, select, textarea { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #f9a8d4; box-sizing: border-box; }
        .flex { display: flex; gap: 10px; }
        .flex > div { flex: 1; }
        .btn { width: 100%; padding: 18px; background: #db2777; color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 15px; transition: 0.3s; }
        .btn:hover { background: #ad1457; transform: scale(1.02); }
        h3 { color: #ad1457; font-size: 16px; margin: 0 0 10px 0; border-bottom: 2px solid #f9a8d4; padding-bottom: 5px; }
    </style>
</head>
<body>

<div class="karta">
    <h1>üéÇ Modern√≠ konfigur√°tor</h1>

    <div class="sekce">
        <h3>üë§ Kontakt</h3>
        <input type="text" id="jmeno" placeholder="Jm√©no a p≈ô√≠jmen√≠">
        <div class="flex" style="margin-top:5px">
            <input type="tel" id="telefon" placeholder="Telefon">
            <input type="email" id="email-zak" placeholder="E-mail">
        </div>
    </div>

    <div class="sekce flex">
        <div>
            <label>Pr≈Ømƒõr</label>
            <select id="sirka" onchange="aktualizuj()">
                <option value="180">15 cm</option>
                <option value="240" selected>20 cm</option>
                <option value="300">25 cm</option>
                <option value="360">30 cm</option>
            </select>
        </div>
        <div>
            <label>Patra</label>
            <input type="number" id="patra" value="3" min="2" max="6" oninput="aktualizuj()">
        </div>
    </div>

    <div class="sekce flex">
        <div>
            <label>Korpus</label>
            <select id="korpus" onchange="aktualizuj()">
                <option value="#fdf5e6">Svƒõtl√Ω pi≈°kot</option>
                <option value="#5d4037">ƒåokol√°dov√Ω</option>
                <option value="#d2b48c">O≈ôechov√Ω</option>
            </select>
        </div>
        <div>
            <label>N√°pl≈à</label>
            <select id="krem" onchange="aktualizuj()">
                <option value="#fffdeb">Vanilkov√Ω</option>
                <option value="#8d6e63">Pa≈ô√≠≈æsk√Ω</option>
                <option value="#fce4ec">Ovocn√Ω</option>
            </select>
        </div>
    </div>

    <div class="sekce">
        <h3>‚ú® Dekorace</h3>
        <div class="ch-radek"><input type="checkbox" id="ov-krem" onchange="aktualizuj()"> <span>Ovoce v kr√©mu</span></div>
        <div class="ch-radek"><input type="checkbox" id="ov-dort" onchange="aktualizuj()"> <span>Ovoce na dortu</span></div>
        <div class="ch-radek"><input type="checkbox" id="papir-ch"> <span>Jedl√Ω pap√≠r: <input type="text" id="papir-txt" placeholder="..."></span></div>
        <div class="ch-radek"><input type="checkbox" id="marc-ch"> <span>Figurka: <input type="text" id="marc-txt" placeholder="..."></span></div>
        <div class="ch-radek"><input type="checkbox" id="zapich-ch"> <span>Z√°pich: <input type="text" id="zapich-txt" placeholder="..."></span></div>
        <textarea id="poznamka" style="margin-top:10px;" placeholder="Dal≈°√≠ pozn√°mky..."></textarea>
    </div>

    <div id="box-dortu"></div>
    
    <button class="btn" onclick="poslatMail()">ODESLAT POPT√ÅVKU</button>
</div>

<script>
    function aktualizuj() {
        const plocha = document.getElementById('box-dortu');
        const s = document.getElementById('sirka').value;
        const p = document.getElementById('patra').value;
        const cK = document.getElementById('korpus').value;
        const cN = document.getElementById('krem').value;
        const ovoceUvnitr = document.getElementById('ov-krem').checked;
        const ovoceNaho≈ôe = document.getElementById('ov-dort').checked;

        plocha.innerHTML = "";

        for (let i = 0; i < p; i++) {
            // Korpus s gradientem pro 3D efekt
            let korp = document.createElement('div');
            korp.className = 'v-korpus';
            korp.style.width = s + "px";
            korp.style.background = `linear-gradient(to bottom, ${cK}, ${adjustColor(cK, -20)})`;
            
            if (i == p - 1 && ovoceNaho≈ôe) {
                let jahody = document.createElement('div');
                jahody.className = 'jahody-top';
                jahody.innerHTML = "üçìüçìüçì";
                korp.appendChild(jahody);
            }
            plocha.appendChild(korp);

            // Kr√©m
            if (i < p - 1) {
                let napl = document.createElement('div');
                napl.className = 'v-krem';
                napl.style.width = (s - 15) + "px";
                napl.style.background = `linear-gradient(to bottom, ${cN}, ${adjustColor(cN, -10)})`;
                
                if (ovoceUvnitr) {
                    for(let j=0; j<5; j++) {
                        let tecka = document.createElement('div');
                        tecka.className = 'kousek-ovoce';
                        tecka.style.marginLeft = Math.random() * 10 + "px";
                        napl.appendChild(tecka);
                    }
                }
                plocha.appendChild(napl);
            }
        }
    }

    // Pomocn√° funkce pro ztmaven√≠ barev pro 3D efekt
    function adjustColor(color, amount) {
        return '#' + color.replace(/^#/, '').replace(/../g, color => ('0' + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
    }

    function poslatMail() {
        const jmeno = document.getElementById('jmeno').value;
        const telo = `Popt√°vka od: ${jmeno}%0A` +
                     `Dort: ${document.getElementById('sirka').value}px, ${document.getElementById('patra').value} pater%0A` +
                     `Ovoce v kr√©mu: ${document.getElementById('ov-krem').checked ? "ANO" : "NE"}`;
        window.location.href = `mailto:DOMII.TRNOVSKA@SEZNAM.CZ?subject=Dort&body=${telo}`;
    }

    window.onload = aktualizuj;
</script>

</body>
</html>
